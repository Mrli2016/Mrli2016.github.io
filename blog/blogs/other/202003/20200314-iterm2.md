---
title: mac配置iterm2的oh-my-zsh和美化
date: 2020-03-14
categories: 
 - 工具
tags:
 - 工具
 - iterm2
---
> 文章来源于 [鶸杰](https://github.com/Mercer-Lee)

先安装oh-my-zsh

```
sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
```

安装完成后按Y让oh-my-zsh是默认shell

安装oh-my-zsh成功后

终端输入
```
vi ~/.zshrc
```
更改以下
ZSH_THEME="agnoster" 将zsh主题修改为“agnoster”

使用 [Meslo](https://github.com/powerline/fonts/blob/master/Meslo%20Slashed/Meslo%20LG%20M%20Regular%20for%20Powerline.ttf) 字体，点开链接点击 view raw 下载字体

安装字体到系统字体册
在iTerm2中应用字体 

![设置字体](./images/iterm2-font.png)

## autojump
这个插件很好用，如果你想摆脱不断cd打开文件目录的话就安装这个插件，能通过`j XX文件名`直接跳转到相应目录，一键抵达。
```
brew install autojump
```

## 自动补全
克隆仓库到本地 ~/.oh-my-zsh/custom/plugins 路径下
```
git clone git://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions
```

## 语法高亮
```
cd ~/.oh-my-zsh/custom/plugins

git clone https://github.com/zsh-users/zsh-syntax-highlighting.git
```
然后修改配置文件
```
vi ~/.zshrc
```
找到plugins这段，然后改为如下：
```
plugins=(git zsh-syntax-highlighting  zsh-autosuggestions Z autojump)

source $ZSH/oh-my-zsh.sh

[[ -s $(brew --prefix)/etc/profile.d/autojump.sh ]] && . $(brew --prefix)/etc/profile.d/autojump.sh
```

## 修改主题
打开`~/.zshrc`，找到`ZSH_THEME=XXX`选项，我个人喜欢cloud主题，这里选择各自喜欢的主题即可，主题目录在`~/.oh-my-zsh/themes`路径下。
cloud主题原生效果是这样的：
![原生主题效果](./images/cloud-them-origin.png)
我这里因为觉得cloud主题太过于简洁，没有完整目录路径跟时间，所以在这里我对`~/.oh-my-zsh/themes/cloud.zsh-theme`文件进行了修改，替换成以下内容：
```
if [[ -z $ZSH_THEME_CLOUD_PREFIX ]]; then
    ZSH_THEME_CLOUD_PREFIX='�~X~A'
fi

PROMPT='%{$fg_bold[cyan]%}$ZSH_THEME_CLOUD_PREFIX  %{$fg[cyan]%}%D{[%H:%M:%S]}%{$fg_bold[green]%} %{%K{${bkg}}%B%F{green}%}%n%{%B%F{blue}%}@%{$fg[green]%}[$PWD] %{$fg_bold[cyan]%}$(git_prompt_info)%{$fg_bold[blue]%} % %{$reset_color%}'

ZSH_THEME_GIT_PROMPT_PREFIX="%{$fg[green]%}[%{$fg[cyan]%}"
ZSH_THEME_GIT_PROMPT_SUFFIX="%{$reset_color%}"
ZSH_THEME_GIT_PROMPT_DIRTY="%{$fg[green]%}] %{$fg[yellow]%}�~Z� %{$reset_color%}"
ZSH_THEME_GIT_PROMPT_CLEAN="%{$fg[green]%}]"
```
最终效果为：
![主题效果](./images/cloud-them.png)


