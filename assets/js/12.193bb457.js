(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{514:function(s,a,e){s.exports=e.p+"assets/img/medis.05aaa5a9.png"},515:function(s,a,e){s.exports=e.p+"assets/img/Another-Redis-Desktop-Manager.2d12f571.png"},516:function(s,a,e){s.exports=e.p+"assets/img/medis-hset.50d710cd.png"},547:function(s,a,e){"use strict";e.r(a);var n=e(6),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"通过docker启动redis"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#通过docker启动redis"}},[s._v("#")]),s._v(" 通过docker启动redis")]),s._v(" "),n("p",[s._v("在尝试操作"),n("code",[s._v("redis")]),s._v("之前，首先我们要先启动一个"),n("code",[s._v("redis")]),s._v("服务器，我们可以通过docker来起个测试服务器，编排"),n("code",[s._v("docker-compose.yml")]),s._v(":")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("version: '3'\nservices:\n  redis_container:\n    image: redis\n    command: redis-server --requirepass yourpassword # 配置 Redis 密码\n    ports:\n      - \"6379:6379\" # 映射端口\n    volumes:\n      - /web/docker/db/mongo:/data  # 映射数据存储文件位置\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("然后通过"),n("code",[s._v("docker-compose up -d")]),s._v("启动。")]),s._v(" "),n("h2",{attrs:{id:"连接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#连接"}},[s._v("#")]),s._v(" 连接")]),s._v(" "),n("p",[s._v("普通链接：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import redis\n\nr = redis.StrictRedis(host='127.0.0.1', port=6379, password='yourpassword', db=0, decode_responses=True) # 默认数据库为0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("如果需要对一个"),n("code",[s._v("redis")]),s._v("服务器进行多个连接的话，可以通过"),n("code",[s._v("ConnectionPool")]),s._v("方法来建立一个连接池，避免每次建立、释放连接带来的额外开销。\n连接池：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("pool = redis.ConnectionPool(host='127.0.0.1',port=6379, password='yourpassword', db=0, decode_responses=True)\n\nr = redis.Redis(connection_pool=pool)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"可视化工具-medis"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#可视化工具-medis"}},[s._v("#")]),s._v(" 可视化工具 Medis")]),s._v(" "),n("p",[n("s",[s._v("讲真，用"),n("code",[s._v("Medis")]),s._v("来看数据真挺爽的，不用在命令行里面敲，切换数据库查看贼方便。这个还是开源项目来的，强烈推荐使用。")]),s._v(" 已经开始收费了，所以放弃使用。\n"),n("img",{attrs:{src:e(514),alt:""}})]),s._v(" "),n("p",[s._v("现在推荐使用"),n("a",{attrs:{href:"https://github.com/qishibo/AnotherRedisDesktopManager",target:"_blank",rel:"noopener noreferrer"}},[s._v("Another Redis Desktop Manager"),n("OutboundLink")],1),s._v("，免费开源，功能更多，UI界面更好看\n"),n("img",{attrs:{src:e(515),alt:""}})]),s._v(" "),n("h2",{attrs:{id:"redis数据类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis数据类型"}},[s._v("#")]),s._v(" Redis数据类型")]),s._v(" "),n("p",[n("code",[s._v("Redis")]),s._v("支持五种数据类型："),n("code",[s._v("string")]),s._v("（字符串），"),n("code",[s._v("hash")]),s._v("（哈希），"),n("code",[s._v("list")]),s._v("（列表），"),n("code",[s._v("set")]),s._v("（集合）及"),n("code",[s._v("zset")]),s._v("(sorted set：有序集合)。")]),s._v(" "),n("h2",{attrs:{id:"string-字符串-操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#string-字符串-操作"}},[s._v("#")]),s._v(" String（字符串）操作")]),s._v(" "),n("p",[n("code",[s._v("string")]),s._v("是"),n("code",[s._v("redis")]),s._v("最基本的类型，一个"),n("code",[s._v("key")]),s._v("对应一个"),n("code",[s._v("value")]),s._v("。"),n("code",[s._v("string")]),s._v("类型是二进制存储的，所以可以任何数据，比如图片数据或序列化的对象。"),n("code",[s._v("string")]),s._v("类型是最基本的数据类型，最大能存储512MB。")]),s._v(" "),n("h3",{attrs:{id:"_1-set-设置值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-set-设置值"}},[s._v("#")]),s._v(" 1.set 设置值")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.set('name', 'Mrli2016')\n'''参数：\n    set(name, value, ex=None, px=None, nx=False, xx=False)\n    ex，过期时间（秒）\n    px，过期时间（毫秒）\n    nx，如果设置为True，则只有name不存在时，当前set操作才执行,同setnx(name, value)\n    xx，如果设置为True，则只有name存在时，当前set操作才执行\n'''\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h3",{attrs:{id:"_2-get-获取值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-get-获取值"}},[s._v("#")]),s._v(" 2.get 获取值")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.get('name'))\n# malin\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_3-mset-批量设置值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-mset-批量设置值"}},[s._v("#")]),s._v(" 3.mset 批量设置值")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 批量设置值\nr.mset({'name1':'李白', 'name2':'李逵'})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_4-mget-批量获取值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-mget-批量获取值"}},[s._v("#")]),s._v(" 4.mget 批量获取值")]),s._v(" "),n("p",[n("code",[s._v("mget(keys, *args)")]),s._v("一次性取出对应键的值。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.mget('name1', 'name2')\n# ['李白', '李逵']\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_5-getset-获取旧值-设置新值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-getset-获取旧值-设置新值"}},[s._v("#")]),s._v(" 5.getset 获取旧值，设置新值")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.getset('name1', '李元芳'))\n# 李白\nprint(r.get('name1'))\n# 李元芳\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_6-getrange-根据字节获取子序列"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-getrange-根据字节获取子序列"}},[s._v("#")]),s._v(" 6.getrange 根据字节获取子序列")]),s._v(" "),n("p",[n("code",[s._v("getrange(key, start, end)")]),s._v("，通过键获取到值，然后按起始位置跟结束位置截取值。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 一个汉字3个字节 1个字母一个字节\nr.set('name', 'i am 李子')\n\nprint(r.getrange('name', 0, 2))\n# i a\nprint(r.getrange('name', 0, 7))\n# i am 李\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"_7-setrange-修改字符串内容"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-setrange-修改字符串内容"}},[s._v("#")]),s._v(" 7.setrange 修改字符串内容")]),s._v(" "),n("p",[n("code",[s._v("setrange(name, offset, value)")]),s._v("，修改字符串内容，从指定字符串索引开始向后替换，如果新值太长时，则向后添加。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.set('name', 'mrli2016')\nr.setrange('name', 4, 'zi')\n\nprint(r.get('name'))\n# mrlizi16\n\nr.setrange('name', 6, ' start in 2016')\n\nprint(r.get('name'))\n# mrlizi start in 2016\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h3",{attrs:{id:"_8-strlen-返回值的字节长度"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-strlen-返回值的字节长度"}},[s._v("#")]),s._v(" 8.strlen 返回值的字节长度")]),s._v(" "),n("p",[s._v("一个汉字 = 3个字节")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.set('name', 'mr李子')\n\nprint(r.strlen('name'))\n# 8\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_9-incr-值的自增"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-incr-值的自增"}},[s._v("#")]),s._v(" 9.incr 值的自增")]),s._v(" "),n("p",[n("code",[s._v("incr(self, name, amount=1)")]),s._v("，自增对应键的值，当该键名不存在时，则"),n("code",[s._v("key=amount")]),s._v("，每次自增加的值为"),n("code",[s._v("amount")]),s._v("，默认为1。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.incr('num')\nprint(r.get('num'))\n# 1\nprint(r.incr('num', amount=2))\n# 3\nprint(r.incr('num', amount=3))\n# 6\nprint(r.incr('num'))\n# 7\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h3",{attrs:{id:"_10-append-在键对应的值后面添加内容"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_10-append-在键对应的值后面添加内容"}},[s._v("#")]),s._v(" 10.append 在键对应的值后面添加内容")]),s._v(" "),n("p",[n("code",[s._v("append(name, value)")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.set('name', '子非鱼')\nr.append('name', ' is mrli2016')\n\nprint(r.get('name'))\n# 子非鱼 is mrli2016\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h2",{attrs:{id:"hash-操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hash-操作"}},[s._v("#")]),s._v(" Hash 操作")]),s._v(" "),n("p",[n("code",[s._v("Redis hash")]),s._v("是一个键值"),n("code",[s._v("(key=>value)")]),s._v("对集合。"),n("code",[s._v("Redis hash")]),s._v("是一个"),n("code",[s._v("string")]),s._v("类型的"),n("code",[s._v("field")]),s._v("和"),n("code",[s._v("value")]),s._v("的映射表，"),n("code",[s._v("hash")]),s._v("特别适合用于存储对象。")]),s._v(" "),n("h3",{attrs:{id:"_1-hset-name对应的hash中设置一个键值对"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-hset-name对应的hash中设置一个键值对"}},[s._v("#")]),s._v(" 1.hset name对应的hash中设置一个键值对")]),s._v(" "),n("p",[n("code",[s._v("hset(name, key, value)")]),s._v("，设置时如果不存在则创建，存在则修改。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.hset('hash_name', '名字', '李白')\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("存储结果：\n"),n("img",{attrs:{src:e(516),alt:""}})]),s._v(" "),n("h3",{attrs:{id:"_2-hget-在name对应的hash中根据key获取value"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-hget-在name对应的hash中根据key获取value"}},[s._v("#")]),s._v(" 2.hget 在name对应的hash中根据key获取value")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.hget('hash_name', '名字'))\n# 李白\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_3-hgetall-获取name对应hash的所有键值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-hgetall-获取name对应hash的所有键值"}},[s._v("#")]),s._v(" 3.hgetall 获取name对应hash的所有键值")]),s._v(" "),n("p",[n("code",[s._v("hgetall(name)")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.hset('hash_name', '性别', '男')\n\nprint(r.hgetall(\"hash_name\"))\n# {'名字': '李白', '性别': '男'}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_4-hmset-在name对应的hash中批量设置键值对"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-hmset-在name对应的hash中批量设置键值对"}},[s._v("#")]),s._v(" 4.hmset 在name对应的hash中批量设置键值对")]),s._v(" "),n("p",[n("code",[s._v("hmset(name, mapping)")]),s._v("，"),n("code",[s._v("mapping")]),s._v(":字典")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('author={"名字": "mrli2016", "性别": "男"}\nr.hmset("author", author)\n\nprint(r.hget("author", "名字"))\n# mrli2016\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_5-hmget-在name对应的hash中获取多个key的值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-hmget-在name对应的hash中获取多个key的值"}},[s._v("#")]),s._v(" 5.hmget 在name对应的hash中获取多个key的值")]),s._v(" "),n("p",[n("code",[s._v("hmget(name, keys, *args)")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.hmget(\"author\", ['名字', '性别']))\n# ['mrli2016', '男']\nprint(r.hmget(\"author\", \"名字\", \"性别\"))\n# ['mrli2016', '男']\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_6-hlen-获取hash中键值对的个数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-hlen-获取hash中键值对的个数"}},[s._v("#")]),s._v(" 6.hlen 获取hash中键值对的个数")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('print(r.hlen("author"))\n# 2\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_7-hkeys-获取所有的key"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-hkeys-获取所有的key"}},[s._v("#")]),s._v(" 7.hkeys 获取所有的key")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.hkeys(\"author\"))\n# ['名字', '性别']\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_8-hvals-获取所有的值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-hvals-获取所有的值"}},[s._v("#")]),s._v(" 8.hvals 获取所有的值")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.hvals(\"author\"))\n# ['mrli2016', '男']\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_9-hexists-检查key是否存在"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-hexists-检查key是否存在"}},[s._v("#")]),s._v(" 9.hexists 检查key是否存在")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('print(r.hexists("author", "名字"))\n# True\nprint(r.hexists("author", "职业"))\n# False\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_10-hdel-删除键值对"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_10-hdel-删除键值对"}},[s._v("#")]),s._v(" 10.hdel 删除键值对")]),s._v(" "),n("p",[n("code",[s._v("hdel(name,*keys)")]),s._v("，删除指定name对应的key所在的键值对")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.hgetall(\"author\"))\n# {'名字': 'mrli2016', '性别': '男'}\n\nr.hdel(\"author\", \"性别\")\n\nprint(r.hgetall(\"author\"))\n# {'名字': 'mrli2016'}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h2",{attrs:{id:"list-操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#list-操作"}},[s._v("#")]),s._v(" List 操作")]),s._v(" "),n("p",[n("code",[s._v("Redis")]),s._v("列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）。")]),s._v(" "),n("h3",{attrs:{id:"_1-lpush-在name对应list的左边添加元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-lpush-在name对应list的左边添加元素"}},[s._v("#")]),s._v(" 1.lpush 在name对应list的左边添加元素")]),s._v(" "),n("p",[n("code",[s._v("lpush(name,values)")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.lpush(\"list_name\", 'mrli2016')\nr.lpush(\"list_name\", 1, 2, 3)\n\nprint(r.lrange('list_name', 0, -1))\n# ['3', '2', '1', 'mrli2016']\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_2-rpush-在name对应list的右边边添加元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-rpush-在name对应list的右边边添加元素"}},[s._v("#")]),s._v(" 2.rpush 在name对应list的右边边添加元素")]),s._v(" "),n("p",[n("code",[s._v("rpush(name,values)")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.rpush(\"list_name\", 'start')\n\nprint(r.lrange('list_name', 0, -1))\n# ['3', '2', '1', 'mrli2016', 'start']\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_3-lpushx-仅在对应的list存在时在左边添加"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-lpushx-仅在对应的list存在时在左边添加"}},[s._v("#")]),s._v(" 3.lpushx 仅在对应的list存在时在左边添加")]),s._v(" "),n("p",[n("code",[s._v("lpushx(name,value)")])]),s._v(" "),n("h3",{attrs:{id:"_4-rpushx-仅在对应的list存在时在右边添加"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-rpushx-仅在对应的list存在时在右边添加"}},[s._v("#")]),s._v(" 4.rpushx 仅在对应的list存在时在右边添加")]),s._v(" "),n("p",[n("code",[s._v("rpushx(name,value)")])]),s._v(" "),n("h3",{attrs:{id:"_5-llen-返回list的长度"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-llen-返回list的长度"}},[s._v("#")]),s._v(" 5.llen 返回list的长度")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('print(r.llen("list_name"))\n# 5\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_6-lset-对list中的某一个索引位置重新赋值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-lset-对list中的某一个索引位置重新赋值"}},[s._v("#")]),s._v(" 6.lset 对list中的某一个索引位置重新赋值")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.lset(\"list_name\", 3, \"mrlizi\")\n\nprint(r.lrange('list_name', 0, -1))\n# ['3', '2', '1', 'mrlizi', 'start']\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_7-lrem-删除name对应的list中的指定值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-lrem-删除name对应的list中的指定值"}},[s._v("#")]),s._v(" 7.lrem 删除name对应的list中的指定值")]),s._v(" "),n("p",[n("code",[s._v("lrem(name, count=0, value)")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.lrem(\"list_name\", 2, 'mrlizi')\n''' \n    参数：\n    name:  redis的name\n    count: count=0 删除列表中所有的指定值；\n           count=2 从左往右开始找，删除2个指定的值；\n           count=-2 从右往左开始找，删除2个指定的值\n    value: 要删除的值\n'''\n\nprint(r.lrange('list_name', 0, -1))\n# ['3', '2', '1', 'start']\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h3",{attrs:{id:"_8-lpop-移除列表的左侧第一个元素-并返回被移除的元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-lpop-移除列表的左侧第一个元素-并返回被移除的元素"}},[s._v("#")]),s._v(" 8.lpop 移除列表的左侧第一个元素，并返回被移除的元素")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('print(r.lpop("list_name"))\n# 3\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_9-lindex-根据索引获取列表内元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-lindex-根据索引获取列表内元素"}},[s._v("#")]),s._v(" 9.lindex 根据索引获取列表内元素")]),s._v(" "),n("p",[n("code",[s._v("lindex(name, index)")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('print(r.lindex("list_name", 2))\n# start\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_10-lrange-分片获取元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_10-lrange-分片获取元素"}},[s._v("#")]),s._v(" 10.lrange 分片获取元素")]),s._v(" "),n("p",[n("code",[s._v("lrange(name, start, end)")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.lrange('list_name', 0, -1))\n# ['2', '1', 'start']\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_11-ltrim-删除范围外的值-裁剪"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_11-ltrim-删除范围外的值-裁剪"}},[s._v("#")]),s._v(" 11.ltrim 删除范围外的值（裁剪）")]),s._v(" "),n("p",[n("code",[s._v("ltrim(name, start, end)")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.ltrim(\"list_name\", 0, 1)\n\nprint(r.lrange('list_name', 0, -1))\n# ['2', '1']\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_12-rpoplpush-将一个列表最右边的取出添加到另一个列表的左边"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-rpoplpush-将一个列表最右边的取出添加到另一个列表的左边"}},[s._v("#")]),s._v(" 12.rpoplpush 将一个列表最右边的取出添加到另一个列表的左边")]),s._v(" "),n("p",[n("code",[s._v("rpoplpush(src, dst)")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.rpoplpush('list_name', 'new_list')\nprint(r.lrange('list_name', 0, -1))\n# ['2']\nprint(r.lrange('new_list', 0, -1))\n# ['1']\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h2",{attrs:{id:"set-操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#set-操作"}},[s._v("#")]),s._v(" Set 操作")]),s._v(" "),n("p",[n("code",[s._v("Redis")]),s._v("的"),n("code",[s._v("Set")]),s._v("是"),n("code",[s._v("string")]),s._v("类型的无序集合。集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是O(1)。")]),s._v(" "),n("h3",{attrs:{id:"_1-sadd-name-values-集合中添加元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-sadd-name-values-集合中添加元素"}},[s._v("#")]),s._v(" 1.sadd(name,values) 集合中添加元素")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.sadd(\"set_name\", 1, '2', 3, '3', 3, 'a', 'b')\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_2-smembers-name-查询集合所有元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-smembers-name-查询集合所有元素"}},[s._v("#")]),s._v(" 2.smembers(name) 查询集合所有元素")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.smembers('set_name'))\n# {'2', 'a', '1', 'b', '3'}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_3-scard-name-获取集合中的元素个数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-scard-name-获取集合中的元素个数"}},[s._v("#")]),s._v(" 3.scard(name) 获取集合中的元素个数")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('r.scard("set_name")\n# 5\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_4-sdiff-keys-args-在第一个集合且不在其他集合的元素集合"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-sdiff-keys-args-在第一个集合且不在其他集合的元素集合"}},[s._v("#")]),s._v(" 4.sdiff(keys, *args) 在第一个集合且不在其他集合的元素集合")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.sadd('set_diff1', '1', 'a', 'b', 'c')\nr.sadd('set_diff2', '2', 'b', 'c', 'd')\n\nprint(r.sdiff('set_name', 'set_diff1', 'set_diff2'))\n# {'3'}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_5-sinter-keys-args-获取多个集合的并集"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-sinter-keys-args-获取多个集合的并集"}},[s._v("#")]),s._v(" 5.sinter(keys, *args) 获取多个集合的并集")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.sinter('set_name', 'set_diff1', 'set_diff2'))\n# {'b'}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_6-sismember-检查元素是否存在集合内"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-sismember-检查元素是否存在集合内"}},[s._v("#")]),s._v(" 6.sismember 检查元素是否存在集合内")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.sismember('set_name', '1'))\n# True\nprint(r.sismember('set_name', 'f'))\n# False\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_7-smove-src-dst-value-将某个元素从一个集合中移动到另外一个集合"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-smove-src-dst-value-将某个元素从一个集合中移动到另外一个集合"}},[s._v("#")]),s._v(" 7.smove(src, dst, value) 将某个元素从一个集合中移动到另外一个集合")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.smove('set_diff1', 'set_diff2', '1')\n\nprint(r.smembers('set_diff1'))\n# {'c', 'a', 'b'}\nprint(r.smembers('set_diff2'))\n# {'2', 'd', 'b', 'c', '1'}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"_8-spop-name-从集合移除一个成员-并将其返回"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-spop-name-从集合移除一个成员-并将其返回"}},[s._v("#")]),s._v(" 8.spop(name) 从集合移除一个成员，并将其返回")]),s._v(" "),n("p",[s._v("因集合是无序的，所以是随机移除")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.spop('set_name', '1'))\n# ['b']\nprint(r.smembers('set_name'))\n# {'1', '3', '2', 'a'}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_9-srandmember-name-numbers-从集合中随机获取numbers个元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-srandmember-name-numbers-从集合中随机获取numbers个元素"}},[s._v("#")]),s._v(" 9.srandmember(name, numbers) 从集合中随机获取numbers个元素")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.srandmember(\"set_name\",2))\n# ['1', '2']\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_10-srem-name-values-删除集合中的某些值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_10-srem-name-values-删除集合中的某些值"}},[s._v("#")]),s._v(" 10.srem(name, *values) 删除集合中的某些值")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.srem(\"set_name\",\"2\",\"3\")\nprint(r.smembers('set_name'))\n# {'1', 'a'}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"_11-sunion-keys-args-获取多个name对应的集合的并集"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_11-sunion-keys-args-获取多个name对应的集合的并集"}},[s._v("#")]),s._v(" 11.sunion(keys, *args) 获取多个name对应的集合的并集")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.sunion(\"set_name\", \"set_diff1\", \"set_diff2\"))\n# {'2', 'a', 'd', 'c', '1', 'b'}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_12-sunionstore-dest-keys-args-获取多个name对应的集合的并集-并将结果保存到dest对应的集合中"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-sunionstore-dest-keys-args-获取多个name对应的集合的并集-并将结果保存到dest对应的集合中"}},[s._v("#")]),s._v(" 12.sunionstore(dest,keys, *args) 获取多个name对应的集合的并集，并将结果保存到dest对应的集合中")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.sunionstore('new_set', \"set_name\", \"set_diff1\", \"set_diff2\")\nprint(r.smembers('new_set'))\n# {'d', '2', '1', 'a', 'c', 'b'}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"有序集合-zset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#有序集合-zset"}},[s._v("#")]),s._v(" 有序集合 zset")]),s._v(" "),n("p",[n("code",[s._v("zset")]),s._v("和"),n("code",[s._v("set")]),s._v("一样也是"),n("code",[s._v("string")]),s._v("类型元素的集合,且不允许重复的成员。\n不同的是每个元素都会关联一个"),n("code",[s._v("double")]),s._v("类型的分数。"),n("code",[s._v("redis")]),s._v("正是通过分数来为集合中的成员进行从小到大的排序。")]),s._v(" "),n("p",[n("code",[s._v("zset")]),s._v("的成员是唯一的,但分数(score)却可以重复。")]),s._v(" "),n("h3",{attrs:{id:"_1-zadd-name-args-kwargs-添加元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-zadd-name-args-kwargs-添加元素"}},[s._v("#")]),s._v(" 1.zadd(name, *args, **kwargs) 添加元素")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('r.zadd("zset_name", {"a1": 6, "a2": 2, "a3": 5})\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_2-zrange-按索引范围获取集合元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-zrange-按索引范围获取集合元素"}},[s._v("#")]),s._v(" 2.zrange 按索引范围获取集合元素")]),s._v(" "),n("p",[n("code",[s._v("zrange( name, start, end, desc=False, withscores=False, score_cast_func=float)")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.zrange(\"zset_name\", 0, -1, desc=False, withscores=True, score_cast_func=int))\n# [('a2', 2), ('a3', 5), ('a1', 6)]\n'''\n  参数：\n    name    集合的name\n    start   有序集合索引起始位置\n    end     有序集合索引结束位置\n    desc    排序规则，默认按照分数从小到大排序\n    withscores  是否获取元素的分数，默认只获取元素的值\n    score_cast_func 对分数进行数据转换的函数\n'''\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h3",{attrs:{id:"_3-zcard-name-获取集合元素的数量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-zcard-name-获取集合元素的数量"}},[s._v("#")]),s._v(" 3.zcard(name) 获取集合元素的数量")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.zcard('zset_name'))\n# 3\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_4-zcount-name-min-max-获取有序集合中分数在-min-max-之间的个数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-zcount-name-min-max-获取有序集合中分数在-min-max-之间的个数"}},[s._v("#")]),s._v(" 4.zcount(name, min, max) 获取有序集合中分数在[min,max]之间的个数")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.zcount('zset_name', 5, 6))\n# 2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_5-zincrby-name-amount-value-自增有序集合内value对应的分数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-zincrby-name-amount-value-自增有序集合内value对应的分数"}},[s._v("#")]),s._v(" 5.zincrby(name, amount, value) 自增有序集合内value对应的分数")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('#自增有序集合内value对应的分数\nr.zincrby("zset_name", 2, "a1")#自增zset_name对应的有序集合里a1对应的分数\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_6-zscore-name-value-获取name对应有序集合中-value-对应的分数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-zscore-name-value-获取name对应有序集合中-value-对应的分数"}},[s._v("#")]),s._v(" 6.zscore(name, value) 获取name对应有序集合中 value 对应的分数")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('print(r.zscore("zset_name","a1"))\n# 8.0\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_7-zrank-name-value-、zrevrank-name-value-获取在集合中的排名"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-zrank-name-value-、zrevrank-name-value-获取在集合中的排名"}},[s._v("#")]),s._v(" 7.zrank(name, value)、zrevrank(name, value) 获取在集合中的排名")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('print(r.zrange("zset_name", 0, -1, withscores=True))\n# [(\'a2\', 2.0), (\'a3\', 5.0), (\'a1\', 8.0)]\n\nprint(r.zrank("zset_name", "a2")) #从小到大排序\n# 0\n\nprint(r.zrevrank("zset_name", "a2")) #从大到小排序\n# 2\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h3",{attrs:{id:"_8-zrem-name-values-删除有序集合中的元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-zrem-name-values-删除有序集合中的元素"}},[s._v("#")]),s._v(" 8.zrem(name, values) 删除有序集合中的元素")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('r.zrem("zset_name","a1","a2")\n\nprint(r.zrange("zset_name", 0, -1))\n# [\'a3\']\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"常用操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用操作"}},[s._v("#")]),s._v(" 常用操作")]),s._v(" "),n("h3",{attrs:{id:"_1-delete-names-根据name删除redis中的任意数据类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-delete-names-根据name删除redis中的任意数据类型"}},[s._v("#")]),s._v(" 1.delete(*names) 根据name删除redis中的任意数据类型")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.delete('zset_name')\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_2-exists-name-检测redis的name是否存在"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-exists-name-检测redis的name是否存在"}},[s._v("#")]),s._v(" 2.exists(name) 检测redis的name是否存在")]),s._v(" "),n("p",[s._v("返回有多少个name的值")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.exists('zset_name'))\n# 0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_3-keys-pattern-根据-等通配符匹配获取redis的name"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-keys-pattern-根据-等通配符匹配获取redis的name"}},[s._v("#")]),s._v(" 3.keys(pattern='"),n("em",[s._v("') 根据")]),s._v(" ？等通配符匹配获取redis的name")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.keys(pattern='*_name'))\n# ['list_name', 'hash_name', 'set_name']\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_4-expire-name-time-为某个name设置超时时间"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-expire-name-time-为某个name设置超时时间"}},[s._v("#")]),s._v(" 4.expire(name ,time) 为某个name设置超时时间")]),s._v(" "),n("p",[s._v("time参数可以是整数也可以是"),n("code",[s._v("timedelta")]),s._v("对象，整数的时候以秒为单位。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.expire('set_name', 5)\nsleep(5)\nprint(r.exists('set_name'))\n# 0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_5-rename-src-dst-重命名"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-rename-src-dst-重命名"}},[s._v("#")]),s._v(" 5.rename(src, dst) 重命名")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.rename('list_name', '列表')\nprint(r.keys())\n# ['set_diff1', 'set_diff2', 'author', 'hash_name', 'new_set', '列表', 'new_list']\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"_6-move-name-db-将redis的某个值移动到指定的db下"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-move-name-db-将redis的某个值移动到指定的db下"}},[s._v("#")]),s._v(" 6.move(name, db)) 将redis的某个值移动到指定的db下")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r.move('author', 1)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_7-randomkey-随机获取一个redis的name-不删除"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-randomkey-随机获取一个redis的name-不删除"}},[s._v("#")]),s._v(" 7.randomkey() 随机获取一个redis的name（不删除）")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.randomkey())\n# new_set\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_8-type-name-获取name对应值的类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-type-name-获取name对应值的类型"}},[s._v("#")]),s._v(" 8.type(name) 获取name对应值的类型")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("print(r.type('new_set'))\n# set\nprint(r.type('列表'))\n# list\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"结尾"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#结尾"}},[s._v("#")]),s._v(" 结尾")]),s._v(" "),n("p",[s._v("总结起来日常用到的就这些，这次是作为一个笔记来写的，基本是从文档中搬过来敲，每个命令都敲了一遍。走了一遍流程后容易记住，网上有些文章比较老了，方法参数已经变了，这里主要基于3.X的版本来写的。")])])}),[],!1,null,null,null);a.default=t.exports}}]);